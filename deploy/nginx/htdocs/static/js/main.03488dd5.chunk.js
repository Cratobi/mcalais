(this.webpackJsonpmcalais=this.webpackJsonpmcalais||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=a(12),s=a(13),u=a(15),i=a(14),d=a(16),m=a(24),p=a(8),h=a(23),b=function(e){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("h2",{style:{padding:"2rem 0 0 2rem"}},r.a.createElement("b",null,"MCALAIS")),r.a.createElement("hr",null),e.children)},E=a(7),f=a(29),g=a.n(f),y="CATAGORY_FETCH",v="CATAGORY_SAVE",O={FETCH:"ACCOUNT_FETCH",SAVE:"ACCOUNT_SAVE",ADD:"ACCOUNT_ADD",CHANGE:"ACCOUNT_CHANGE"},_="LEDGER_FETCH",j="LEDGER_SAVE",w="JOURNAL_FETCH",C="JOURNAL_SAVE",k="JOURNAL_NEW",x="JOURNAL_NEW_SAVE",S=function(e){return{type:v,data:e}},A=function(){return{type:O.FETCH}},N=function(e){return{type:w,data:e}},D=function(e){return{type:C,data:e}},T=function(e){return{type:x,data:e}},H=function(e){return{type:_,data:e}},I=function(e){return{type:j,data:e}},L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",code:"",type:""},a.HandleChange=function(e){var t=Object(E.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.HandleClear=function(){a.setState({name:"",code:"",type:""})},a.HandlerAddAccount=function(e){e.preventDefault(),a.props.addAccount({name:a.state.name,code:a.state.code,type:a.state.type}),a.HandleClear(),a.typeSelect.focus()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAccount()}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"container-scrollable"},r.a.createElement("div",{className:"container-card"},this.props.catagory.map((function(t,a){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,t.title),r.a.createElement("table",{className:"uk-table uk-table-divider uk-table-striped uk-table-hover uk-table-small uk-table-justify  uk-table-middle",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Code "),r.a.createElement("th",null," Name "),r.a.createElement("th",null," Balance "))),r.a.createElement("tbody",null,t.account_order.map((function(a){return e.props.account.filter((function(e){return e.type===t.id&&e.id===a})).map((function(a){var c=a.name,l=a.code,o=a.balance,s=a.preset;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o)),s.map((function(a){var n=a.preset_id;return e.props.account.filter((function(e){return e.type===t.id&&e.id===n})).map((function(e){var t=e.name,a=e.code,n=e.balance;return r.a.createElement("tr",{style:{border:"0.2rem solid red"}},r.a.createElement("td",null,a),r.a.createElement("td",null,t),r.a.createElement("td",null,n))}))})))}))})))))})))),r.a.createElement("section",{className:"uk-container sidebar",style:{paddingTop:"3rem"}},r.a.createElement("h2",null," Add account "),r.a.createElement("hr",null)))}}]),t}(n.Component),F=Object(p.b)((function(e){return{catagory:e.catagory,account:e.account,journal:e.journal}}),(function(e){return{fetchAccount:function(){return e(A())},addAccount:function(t){return e(function(e){return{type:O.ADD,data:e}}(t))}}}))(L),J=a(30),U=a.n(J),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={start_date:new Date(new Date-6048e5).toISOString().substr(0,10),end_date:(new Date).toISOString().substr(0,10)},a.HandleDateChange=function(e){var t=Object(E.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t,a.onDateChange)},a.onDateChange=function(){a.props.fetchLedger({start_date:a.state.start_date,end_date:a.state.end_date})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLedger({start_date:new Date(new Date-6048e5).toISOString().substr(0,10),end_date:(new Date).toISOString().substr(0,10)})}},{key:"render",value:function(){var e=this,t=[this.props.ledger][0];return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"container-scrollable"},r.a.createElement("div",{className:"container-card"},0!==this.props.account.length&&0!==t.length?t.map((function(t,a){var c=t.name,l=t.transaction;return r.a.createElement(n.Fragment,{key:a},r.a.createElement("h1",null,c),r.a.createElement("table",{className:"uk-table uk-table-divider uk-table-striped uk-table-hover uk-table-small uk-table-justify  uk-table-middle",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2"},"Date"),r.a.createElement("th",{rowSpan:"2"},"Particular"),r.a.createElement("th",{rowSpan:"2"},"Account"),r.a.createElement("th",{colSpan:"2"},"Amount")),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"right"}},"Debit"),r.a.createElement("th",{style:{textAlign:"right"}},"Credit"))),r.a.createElement("tbody",null,l.map((function(t,a){t._id;var n=t.date,c=t.particular,l=t.account,o=t.credit,s=t.debit;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("span",{title:U()(n,"ddd, dS mmm, yyyy, h:MM:ss TT")},U()(n,"ddd, dS mmm, yyyy"))),r.a.createElement("td",null,c),r.a.createElement("td",null,e.props.account.find((function(e){return+e.code===l})).name),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("span",{style:{fontSize:"2rem"}},"\u09f3")," ",g.a.format(s,2)),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("span",{style:{fontSize:"2rem"}},"\u09f3")," ",g.a.format(o,2)))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Total")))),r.a.createElement("br",null))})):r.a.createElement("div",{style:{width:"100%",padding:"5rem"}},r.a.createElement("h1",{style:{textAlign:"center "}},"Loading...")))),r.a.createElement("section",{className:"uk-container sidebar",style:{paddingTop:"3rem"}},r.a.createElement("h2",null,"Filter"),r.a.createElement("hr",null),r.a.createElement("label",null,"From",r.a.createElement("input",{type:"date",name:"start_date",className:"uk-input",onChange:this.HandleDateChange,value:this.state.start_date})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"To",r.a.createElement("input",{type:"date",name:"end_date",className:"uk-input",onChange:this.HandleDateChange,value:this.state.end_date}))))}}]),t}(n.Component),V=Object(p.b)((function(e){return{ledger:e.ledger,account:e.account}}),(function(e){return{fetchLedger:function(t){return e(H(t))}}}))(R),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={sort:{start_date:new Date(new Date-6048e5).toISOString().substr(0,10),end_date:(new Date).toISOString().substr(0,10),search:"",day:"today"},credit:"",debit:"",particular:"",amount:"",comment:""},a.HandleChange=function(e,t){var n=Object(E.a)({},a.state),r=e.target.name,c=e.target.value;if(t?n[t][r]=c:n[r]=c,"start_date"===r||"end_date"===r)a.setState(n,a.onDateChange);else if("day"===r&&"n"!==c)switch(c){case"1":n.sort.start_date=new Date(new Date-864e5).toISOString().substr(0,10),n.sort.end_date=(new Date).toISOString().substr(0,10),a.setState(n,a.onDateChange);break;case"2":case"3":n.sort.start_date=new Date(new Date-1728e5).toISOString().substr(0,10),n.sort.end_date=(new Date).toISOString().substr(0,10),a.setState(n,a.onDateChange);break;case"7":n.sort.start_date=new Date(new Date-6048e5).toISOString().substr(0,10),n.sort.end_date=(new Date).toISOString().substr(0,10),a.setState(n,a.onDateChange)}else a.setState(n)},a.HandleClear=function(){var e={date:(new Date).getTime(),debit:"",credit:"",particular:"",amount:"",comment:""};a.setState(e)},a.HandlerAddJournal=function(e){e.preventDefault(),a.props.addNewJournal({debit:a.state.debit,credit:a.state.credit,particular:a.state.particular,amount:a.state.amount,comment:a.state.comment}),a.HandleClear(),a.accountSelect.focus()},a.onDateChange=function(){a.props.fetchJournal({start_date:a.state.sort.start_date,end_date:a.state.sort.end_date})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAccount(),this.props.fetchJournal()}},{key:"render",value:function(){var e=this,t=[this.props.journal,this.props.account],a=t[0],c=t[1];return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"container-scrollable"},r.a.createElement("div",{className:"container-card"},r.a.createElement("h3",null,"Journal"),r.a.createElement("span",{style:{float:"right"},className:"uk-form-group sort"},r.a.createElement("select",{name:"day",className:"uk-select",onChange:function(t){return e.HandleChange(t,"sort")},value:this.state.sort.day},r.a.createElement("option",{value:"1"},"Today"),r.a.createElement("option",{value:"2"},"Yesterday"),r.a.createElement("option",{value:"3"},"Past 3 days"),r.a.createElement("option",{value:"7"},"Weekly"),r.a.createElement("option",{value:"n"},"Custom")),"n"===this.state.sort.day&&r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"date",name:"start_date",className:"uk-input",onChange:function(t){return e.HandleChange(t,"sort")},value:this.state.sort.start_date}),r.a.createElement("input",{type:"date",name:"end_date",className:"uk-input",onChange:function(t){return e.HandleChange(t,"sort")},value:this.state.sort.end_date}))),r.a.createElement("br",null),r.a.createElement("br",null),0!==c.length&&0!==a.length?r.a.createElement("table",{className:"uk-table uk-table-divider uk-table-striped uk-table-hover uk-table-small uk-table-justify  uk-table-middle",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Particular"),r.a.createElement("th",null,"Destination (Sources)"),r.a.createElement("th",{style:{textAlign:"right"}},"Amount"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,a.map((function(e,t){var a=e.date,n=e.particular,l=e.amount,o=e.credit,s=e.debit,u=e.comment;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("span",{title:U()(a,"ddd, dS mmm, yyyy, h:MM:ss TT")},U()(a,"ddd, dS mmm, yyyy"))),r.a.createElement("td",null,n),r.a.createElement("td",null,c.find((function(e){return+e.code===s})).name,r.a.createElement("br",null),"\xa0\xa0\xa0\xa0\u2b11\xa0\xa0(",c.find((function(e){return e.code===o})).name,")"),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("span",{style:{fontSize:"2rem"}},"\u09f3")," ",g.a.format(l,2)),r.a.createElement("td",null,u))})))):r.a.createElement("div",{style:{width:"100%",padding:"5rem"}},r.a.createElement("h1",{style:{textAlign:"center "}},"Loading...")))),r.a.createElement("section",{className:"uk-container sidebar",style:{paddingTop:"3rem"}},r.a.createElement("h2",null," Transaction "),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("form",{style:{width:"100%"},onSubmit:this.HandlerAddJournal},r.a.createElement("section",null,"From",r.a.createElement("select",{name:"credit",ref:function(t){e.accountSelect=t},className:"uk-select",onChange:this.HandleChange,value:this.state.credit},r.a.createElement("option",{value:""},"Choose a catagory"),c.map((function(e,t){var a=e.name,n=e.code,c=e.type;return r.a.createElement("option",{key:t,value:n},a," [",c,"]")})))),r.a.createElement("label",null,"To",r.a.createElement("select",{name:"debit",className:"uk-select",onChange:this.HandleChange,value:this.state.debit},r.a.createElement("option",{value:""},"Choose a catagory"),c.map((function(e,t){var a=e.code,n=e.name,c=e.type;return r.a.createElement("option",{key:t,value:a},n," [",c,"]")})))),r.a.createElement("br",null),r.a.createElement("br",null),"Particular:"," ",r.a.createElement("input",{type:"text",name:"particular",className:"uk-input",onChange:this.HandleChange,value:this.state.particular}),r.a.createElement("br",null),r.a.createElement("br",null),"Amount:"," ",r.a.createElement("input",{type:"number",name:"amount",className:"uk-input",onChange:this.HandleChange,value:this.state.amount}),r.a.createElement("br",null),r.a.createElement("br",null),"Remarks:"," ",r.a.createElement("textarea",{type:"text",name:"comment",className:"uk-input",onChange:this.HandleChange,value:this.state.comment}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",input:"ADD"})))))}}]),t}(n.Component),G=Object(p.b)((function(e){return{journal:e.journal,account:e.account}}),(function(e){return{fetchAccount:function(){return e(A())},fetchJournal:function(t){return e(N(t))},addNewJournal:function(t){return e(function(e){return{type:k,data:e}}(t))}}}))(M),P=a(25),W=a(19),z=a(2),X=a.n(z),B=a(40),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={new_catagory:{is_visible:!1,action:"",id:"",index:"",title:""},catagory_tree:[{id:"assets",title:"Assets",account_order:[],account:{},preset:{}},{id:"liabilities",title:"Liabilities",account_order:[],account:{},preset:{}},{id:"equities",title:"Equities",account_order:[],account:{},preset:{}},{id:"expenses",title:"Expenses",account_order:[],account:{},preset:{}},{id:"incomes",title:"Incomes",account_order:[],account:{},preset:{}}],change_tree:[]},a.updateTree=function(){var e,t;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.a.awrap(fetch("http://192.168.0.100/api/catagory/"));case 2:return e=n.sent,n.next=5,X.a.awrap(e.json());case 5:(t=n.sent)[0]&&a.setState({catagory_tree:t[0].catagory});case 7:case"end":return n.stop()}}))},a.onDragEnd=function(e,t){var n=e.destination,r=e.source,c=e.draggableId;if(n&&(n.draggableId!==r.draggableId||n.index!==r.index))if(r.droppableId===n.droppableId){var l=a.state.catagory_tree[t].account[r.droppableId].preset_order;l.splice(r.index,1),l.splice(n.index,0,c);var o=Object(E.a)({},a.state.catagory_tree[t],{account:Object(E.a)({},a.state.catagory_tree[t].account,{preset_order:l})}),s=Object(W.a)(a.state.catagory_tree);s.splice(t,1,o),a.setState(Object(E.a)({},a.state,{newCatagoryList:s}))}else{var u,i=a.state.catagory_tree[t].account[r.droppableId].preset_order,d=a.state.catagory_tree[t].account[n.droppableId].preset_order;i.splice(r.index,1),d.splice(n.index,0,c);var m=Object(E.a)({},a.state.catagory_tree[t].account,{preset_order:i}),p=Object(E.a)({},a.state.catagory_tree[t].account,{preset_order:d}),h=Object(E.a)({},a.state.catagory_tree[t].account,(u={},Object(P.a)(u,m.id,m),Object(P.a)(u,p.id,p),u)),b=Object(E.a)({},a.state.catagory_tree[t],{account:h}),f=Object(W.a)(a.state.catagory_tree);f.splice(t,1,b),a.setState(Object(E.a)({},a.state,{newCatagoryList:f}))}},a.toggleInput=function(e,t,n){a.setState({new_catagory:{is_visible:!0,action:e,id:n,index:t,title:""}})},a.addCatatory=function(){var e=[a.state.new_catagory.action,a.state.new_catagory.index,a.state.new_catagory.id],t=e[1],n=e[2];if("account"===e[0]){var r=a.state.catagory_tree[t],c=Object(E.a)({},r,{account:Object(E.a)({},r.account,Object(P.a)({},"ac_".concat(r.account?Object.keys(r.account).length+1:"1"),{id:"ac_".concat(r.account?Object.keys(r.account).length+1:"1"),title:a.state.new_catagory.title,preset_order:[]})),account_order:[].concat(Object(W.a)(r.account_order),["ac_".concat(r.account?Object.keys(r.account).length+1:"1")])}),l=a.state.catagory_tree;l.splice(t,1,c),a.setState(Object(E.a)({},a.state,{catagory_tree:l,change_tree:[].concat(Object(W.a)(a.state.change_tree),[{action:"ADD",type:"account",data:Object(E.a)({},a.state.change_tree,{id:"ac_".concat(r.account?Object.keys(r.account).length+1:"1"),name:a.state.new_catagory.title,catagory_id:r.id,preset:[]})}])}))}else{var o=a.state.catagory_tree[t],s=Object(E.a)({},o.account,Object(P.a)({},n,Object(E.a)({},o.account[n],{preset_order:["ps_".concat(o.preset?Object.keys(o.preset).length+1:1)].concat(Object(W.a)(o.account[n].preset_order))}))),u=Object(E.a)({},o.preset,Object(P.a)({},"ps_".concat(o.preset?Object.keys(o.preset).length+1:1),{id:"ps_".concat(o.preset?Object.keys(o.preset).length+1:1),title:a.state.new_catagory.title})),i=Object(E.a)({},o,{account:s,preset:u}),d=a.state.catagory_tree;d.splice(t,1,i),a.setState(Object(E.a)({},a.state,{catagory_tree:d,change_tree:[].concat(Object(W.a)(a.state.change_tree),[{action:"ADD",type:"preset",data:{id:"ps_".concat(o.preset?Object.keys(o.preset).length+1:1,"1"),name:a.state.new_catagory.title,catagory_id:o.id,account_id:n}}])}))}a.HandleClear()},a.HandleInputChange=function(e){var t=Object(E.a)({},a.state);t.new_catagory[e.target.name]=e.target.value,a.setState(t)},a.HandleClear=function(){a.setState({new_catagory:{is_visible:!1,action:"",id:"",index:"",title:""}})},a.Capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateTree()}},{key:"componentDidUpdate",value:function(){this.typeInput&&this.typeInput.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"container-scrollable"},r.a.createElement("div",{className:"container-card"},0!=this.state.catagory_tree.length&&this.state.catagory_tree.map((function(t,a){return r.a.createElement("div",{key:a,className:"draggable container"},r.a.createElement("span",{className:"section-title-big"},t.title),r.a.createElement("button",{style:{float:"right"},onClick:function(){return e.toggleInput("account",a)}},"ADD"),r.a.createElement(B.a,{onDragEnd:function(t){return e.onDragEnd(t,a)}},t.account_order.map((function(n,c){var l=t.account[n];return r.a.createElement(B.c,{key:l.id,droppableId:l.id,index:c},(function(c){return r.a.createElement("span",null,r.a.createElement("div",{className:"section-title"},l.title," \xa0\xa0\xa0",r.a.createElement("button",{style:{float:"right"},onClick:function(){return e.toggleInput("preset",a,n)}},"ADD")),r.a.createElement("div",null,r.a.createElement("div",Object.assign({className:"drag-container",ref:c.innerRef},c.droppableProps),l.preset_order.map((function(e,a){var n=t.preset[e];return r.a.createElement(B.b,{key:n.id,draggableId:n.id,index:a},(function(e){return r.a.createElement("div",Object.assign({className:"drag-item",ref:e.innerRef},e.draggableProps,e.dragHandleProps),n.title,r.a.createElement("b",{style:{float:"right"}},"\u2261"),e.placeholder)}))})))),c.placeholder)}))}))))})))),r.a.createElement("section",{className:"uk-container sidebar",style:{paddingTop:"3rem"}},r.a.createElement("h2",null," Add account "),r.a.createElement("hr",null),this.state.new_catagory.is_visible&&r.a.createElement("div",null,r.a.createElement("h4",null,"Add ",this.Capitalize(this.state.new_catagory.action)),r.a.createElement("input",{ref:function(t){e.typeInput=t},type:"text",name:"title",onChange:this.HandleInputChange,value:this.state.new_catagory.title}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.addCatatory},"Create ",this.Capitalize(this.state.new_catagory.action))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"uk-button uk-button-primary",onClick:function(){e.props.sumbitChange({catagory_tree:e.state.catagory_tree,change_tree:e.state.change_tree})}},"\xa0\xa0SEND UPDATED CHANGE\xa0\xa0")))}}]),t}(n.Component),q=Object(p.b)((function(e){return{catagory:e.catagory}}),(function(e){return{sumbitChange:function(t){return e(function(e){return{type:O.CHANGE,data:e}}(t))},fetchCatagory:function(t){return e({type:y})}}}))(Y),$=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"/"===this.props.match.path&&this.props.fetchAccount()}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("main",{className:"grid"},r.a.createElement(b,null,r.a.createElement("ul",{className:"uk-nav sidebar__nav"},r.a.createElement("li",null,r.a.createElement(h.b,{to:"/transaction",activeClassName:"active"},"Journal")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/ledger",activeClassName:"active"},"Ledgers")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/account",activeClassName:"active"},"Chart of Accounts")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/catalogue",activeClassName:"active"},"Catalogue")))),r.a.createElement("section",{className:"grid-2"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/transaction",component:G}),r.a.createElement(m.a,{path:"/account",component:F}),r.a.createElement(m.a,{path:"/ledger",component:V}),r.a.createElement(m.a,{path:"/catalogue",component:q}),r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(n.Fragment,null,r.a.createElement(F,null),r.a.createElement("hr",null),r.a.createElement(G,null),r.a.createElement("hr",null),r.a.createElement("hr",null)))))))}}]),t}(n.Component),K=Object(p.b)(null,(function(e){return{fetchJournal:function(){return e(N())},fetchAccount:function(){return e(A())},fetchLedger:function(){return e(H())}}}))($),Q=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("main",{className:"main-container"},r.a.createElement(m.a,{path:"/",component:K})))}}]),t}(n.Component),Z=Object(p.b)(null,(function(e){return{}}))(Q),ee=a(9),te=a(65),ae=a(6),ne="http://192.168.0.100/api/account/",re=function(){var e,t;return X.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,X.a.awrap(fetch("http://192.168.0.100/api/catagory/"));case 2:return e=a.sent,a.next=5,X.a.awrap(e.json());case 5:if(t=a.sent,!(e.status>=400)){a.next=8;break}throw new Error(t.errors);case 8:return a.abrupt("return",t);case 9:case"end":return a.stop()}}))},ce=function(){var e,t;return X.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,X.a.awrap(fetch("".concat(ne)));case 2:return e=a.sent,a.next=5,X.a.awrap(e.json());case 5:if(t=a.sent,!(e.status>=400)){a.next=8;break}throw new Error(t.errors);case 8:return a.abrupt("return",t);case 9:case"end":return a.stop()}}))},le=function(e){var t,a;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.a.awrap(fetch("".concat(ne),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}));case 2:return t=n.sent,n.next=5,X.a.awrap(t.json());case 5:if(a=n.sent,!(t.status>=400)){n.next=8;break}throw new Error(a.errors);case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}))},oe=function(e){var t,a;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.a.awrap(fetch("".concat(ne),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}));case 2:return t=n.sent,n.next=5,X.a.awrap(t.json());case 5:if(a=n.sent,!(t.status>=400)){n.next=8;break}throw new Error(a.errors);case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}))},se=X.a.mark(me),ue=X.a.mark(pe),ie=X.a.mark(he),de=X.a.mark(be);function me(){var e,t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.b)(ce);case 3:return e=a.sent,a.next=6,Object(ae.b)(re);case 6:return t=a.sent,a.next=9,Object(ae.c)({type:O.SAVE,data:e});case 9:return a.next=11,Object(ae.c)(S(t[0].catagory));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(ae.c)({type:"ACCOUNT.SAVE",message:a.t0.message});case 17:case"end":return a.stop()}}),se,null,[[0,13]])}function pe(e){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(le,[e.data]);case 3:return t.next=5,Object(ae.c)(A());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.c)({type:"ACCOUNT.NEW_SAVE",message:t.t0.message});case 11:case"end":return t.stop()}}),ue,null,[[0,7]])}function he(e){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(oe,[e.data]);case 3:return t.next=5,Object(ae.c)(A());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.c)({type:"ACCOUNT.NEW_SAVE",message:t.t0.message});case 11:case"end":return t.stop()}}),ie,null,[[0,7]])}function be(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(O.FETCH,me);case 2:return e.next=4,Object(ae.d)(O.CHANGE,he);case 4:return e.next=6,Object(ae.d)(O.ADD,pe);case 6:case"end":return e.stop()}}),de)}var Ee=be,fe=function(e){var t,a;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=e[0],n.next=3,X.a.awrap(fetch("".concat("http://192.168.0.100/api/journal","?size=50").concat(e&&e.start_date?"&startDate=".concat(e.start_date):"").concat(e&&e.end_date?"&endDate=".concat(e.end_date):"")));case 3:return t=n.sent,n.next=6,X.a.awrap(t.json());case 6:if(a=n.sent,!(t.status>=400)){n.next=9;break}throw new Error(a.errors);case 9:return n.abrupt("return",a);case 10:case"end":return n.stop()}}))},ge=function(e){var t,a;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.a.awrap(fetch("".concat("http://192.168.0.100/api/journal"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}));case 2:return t=n.sent,n.next=5,X.a.awrap(t.json());case 5:if(a=n.sent,!(t.status>=400)){n.next=8;break}throw new Error(a.errors);case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}))},ye=X.a.mark(_e),ve=X.a.mark(je),Oe=X.a.mark(we);function _e(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.b)(fe,[e.data]);case 3:return t=a.sent,a.next=6,Object(ae.c)(D(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ae.c)({type:"JOURNAL.SAVE",message:a.t0.message});case 12:case"end":return a.stop()}}),ye,null,[[0,8]])}function je(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.b)(ge,[e.data]);case 3:return t=a.sent,a.next=6,Object(ae.c)(T(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ae.c)({type:"JOURNAL.SAVE",message:a.t0.message});case 12:case"end":return a.stop()}}),ve,null,[[0,8]])}function we(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(w,_e);case 2:return e.next=4,Object(ae.d)(k,je);case 4:case"end":return e.stop()}}),Oe)}var Ce=we,ke=function(e){var t,a,n,r;return X.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e[0].start_date,a=e[0].end_date,c.next=4,X.a.awrap(fetch("".concat("http://192.168.0.100/api/ledger","?startDate=").concat(t,"&endDate=").concat(a)));case 4:return n=c.sent,c.next=7,X.a.awrap(n.json());case 7:if(r=c.sent,!(n.status>=400)){c.next=10;break}throw new Error(r.errors);case 10:return c.abrupt("return",r);case 11:case"end":return c.stop()}}))},xe=X.a.mark(Ae),Se=X.a.mark(Ne);function Ae(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.b)(ke,[e.data]);case 3:return t=a.sent,a.next=6,Object(ae.c)(I(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ae.c)({type:"LEDGER.SAVE",message:a.t0.message});case 12:case"end":return a.stop()}}),xe,null,[[0,8]])}function Ne(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(_,Ae);case 2:case"end":return e.stop()}}),Se)}var De=Ne,Te=X.a.mark(He);function He(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([Ee(),Ce(),De()]);case 2:case"end":return e.stop()}}),Te)}var Ie=[],Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SAVE:return t.data;case O.NEW_SAVE:var a=Object(W.a)(e);return a.find((function(e){return e.code===t.data.destination})).debit+=+t.data.amount,a.find((function(e){return e.code===t.data.destination})).balance-=+t.data.amount,a.find((function(e){return e.code===t.data.source})).credit+=+t.data.amount,a.find((function(e){return e.code===t.data.source})).balance-=+t.data.amount,a;default:return e}},Fe=[],Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.data;case x:var a=t.data,n=a.id,r=a.date,c=a.credit,l=a.debit,o=a.particular,s=a.amount,u=a.comment;return[{id:n,date:r,credit:c,debit:l,particular:o,amount:s,comment:u}].concat(Object(W.a)(e));default:return e}},Ue=[],Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.data;default:return e}},Ve=[],Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.data;default:return e}},Ge=Object(ee.c)({account:Le,journal:Je,ledger:Re,catagory:Me}),Pe=window.__SAGA_MONITOR_EXTENSION__,We=function(){var e=Object(te.a)({sagaMonitor:Pe}),t=Object(ee.e)(Ge,window.__REDUX_DEVTOOLS_EXTENSION__?Object(ee.d)(Object(ee.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(ee.a)(e));return e.run(He),t};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(111);var ze=We();l.a.render(r.a.createElement(p.a,{store:ze},r.a.createElement(h.a,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,a){e.exports=a(112)}},[[66,1,2]]]);
//# sourceMappingURL=main.03488dd5.chunk.js.map