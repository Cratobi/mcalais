import mongoose from 'mongoose'
const Schema = mongoose.Schema

const LedgerSchema = new mongoose.Schema({
  code: {
    type: Number,
    min: 10000,
    max: 99999,
    required: true,
  },
  name: {
    type: String,
    trim: true,
    minlength: 2,
    required: true,
  },
  transactions: [
    {
      debit: {
        type: Number,
        required: true,
      },
      credit: {
        type: Number,
        required: true,
      },
      amount: {
        type: Number,
        required: true,
      },
    },
  ],
})

LedgerSchema.methods.toJSON = ledger => ledger

LedgerSchema.statics.findLedger = () => {
  console.log('LED:' + Ledger.findById('5dd688b3c24e941ab0849a11'))
  return Ledger.find()
}
// LedgerSchema.statics.fetchLedger = function(id) {
//   const draft = this
//   return draft.findById(id)
// }

const Ledger = mongoose.model('Ledger', LedgerSchema)

export default Ledger
